var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,o,a,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof n[a]&&n[a],l=s.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,r){if(!l[e]){if(!t[e]){var o="function"==typeof n[a]&&n[a];if(!r&&o)return o(e,!0);if(s)return s(e,!0);if(d&&"string"==typeof e)return d(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}f.resolve=function(r){var o=t[e][1][r];return null!=o?o:r},f.cache={};var u=l[e]=new c.Module(e);t[e][0].call(u.exports,f,u,u.exports,this)}return l[e].exports;function f(e){var t=f.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=l,c.parent=s,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return n[a]}}),n[a]=c;for(var u=0;u<r.length;u++)c(r[u]);if(o){var f=c(o);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):i&&(this[i]=f)}}({kgW6q:[function(e,t,r){e("../../../background")},{"../../../background":"dHFmR"}],dHFmR:[function(e,t,r){let o={},a={},i={};browser.webRequest.onBeforeRequest.addListener(function(e){-1!==e.tabId&&e.originUrl&&new URL(e.url).hostname!==new URL(e.originUrl).hostname&&(o[e.tabId]||(o[e.tabId]={}),o[e.tabId][e.url]=(o[e.tabId][e.url]||0)+1)},{urls:["<all_urls>"]}),browser.webRequest.onHeadersReceived.addListener(function(e){if(-1!==e.tabId){let t=new URL(e.url),r=e.initiator&&!e.initiator.endsWith(t.hostname),o=r?"thirdParty":"firstParty",i=r?"thirdPartyDetails":"firstPartyDetails";a[e.tabId]||(a[e.tabId]={firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}}),e.responseHeaders.forEach(t=>{if("set-cookie"===t.name.toLowerCase()){let r=t.value.split("=")[0].trim();a[e.tabId][o]++,a[e.tabId][i][r]?a[e.tabId][i][r]++:a[e.tabId][i][r]=1}})}},{urls:["<all_urls>"]},["responseHeaders"]),browser.runtime.onMessage.addListener(function(e,t,r){let n=t.tab?t.tab.id:e.tabId;switch(e.action){case"get_connections":r({connections:o[n]?o[n]:{}});break;case"get_cookies":let s;r({cookies:(s=a[n])?{firstParty:s.firstParty,thirdParty:s.thirdParty,firstPartyDetails:s.firstPartyDetails,thirdPartyDetails:s.thirdPartyDetails}:{firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}}});break;case"get_local_storage":(function(e,t){browser.tabs.executeScript(e,{code:`
      JSON.stringify({
        localStorageCount: Object.keys(localStorage).length,
        sessionStorageCount: Object.keys(sessionStorage).length,
        localStorage: Object.entries(localStorage).reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {}),
        sessionStorage: Object.entries(sessionStorage).reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {})
      });
    `}).then(r=>{if(r&&r[0]){let o=JSON.parse(r[0]);i[e]=o,t({data:o})}else t({error:"No data received"})}).catch(r=>{console.error(`Error executing script in tab ${e}:`,r),t({error:r.message})})})(n,r);break;default:console.log("Unknown action:",e.action)}return!0}),browser.tabs.onRemoved.addListener(function(e){delete o[e],delete a[e],delete i[e]}),browser.tabs.onUpdated.addListener(function(e,t,r){"loading"===t.status&&(o[e]={},a[e]={firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}},i[e]={})})},{}]},["kgW6q"],"kgW6q","parcelRequire4d1b"),globalThis.define=t;